# Backend Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL connection string
DATABASE_URL=postgresql://username:password@localhost:5432/hypetrain

# Enable SSL for database connection (production only)
DATABASE_SSL=false

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# JWT secret key - MUST be at least 32 characters
# In production, use a cryptographically secure random string
# Generate one with: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT token expiration times
JWT_EXPIRES_IN=7d

# ============================================
# SERVER CONFIGURATION
# ============================================
# Node environment: development | production | test
NODE_ENV=development

# Server port
PORT=5000

# Frontend URL (for CORS configuration)
FRONTEND_URL=http://localhost:3000

# ============================================
# ERROR MONITORING (OPTIONAL)
# ============================================
# Sentry DSN for error tracking (production only)
# Get your DSN from https://sentry.io/
SENTRY_DSN=

# ============================================
# CRON JOB CONFIGURATION
# ============================================
# Enable/disable automated jobs
ENABLE_DERBY_AUTOPICK=true
ENABLE_DRAFT_AUTOPICK=true
ENABLE_PLAYER_SYNC=true

# Job intervals (in milliseconds)
DERBY_JOB_INTERVAL=5000        # 5 seconds
DRAFT_JOB_INTERVAL=10000       # 10 seconds
PLAYER_SYNC_INTERVAL=3600000   # 1 hour

# ============================================
# EXTERNAL APIS (OPTIONAL)
# ============================================
# Sleeper API configuration
SLEEPER_API_URL=https://api.sleeper.app/v1

# ============================================
# LOGGING CONFIGURATION (OPTIONAL)
# ============================================
# Log level: error | warn | info | http | debug
LOG_LEVEL=info

# ============================================
# RATE LIMITING (OPTIONAL)
# ============================================
# Override default rate limits (requests per window)
RATE_LIMIT_AUTH=5           # Auth endpoints (per 15 min)
RATE_LIMIT_REGISTRATION=3    # Registration (per hour)
RATE_LIMIT_API=100          # General API (per minute)
RATE_LIMIT_CHAT=30          # Chat messages (per minute)

# ============================================
# PERFORMANCE MONITORING (OPTIONAL)
# ============================================
# Database pool monitoring interval (milliseconds)
DB_MONITORING_INTERVAL=60000  # 1 minute

# Slow query threshold (milliseconds)
SLOW_QUERY_THRESHOLD=1000     # 1 second

# ============================================
# DEVELOPMENT ONLY
# ============================================
# Enable query logging (development only)
LOG_QUERIES=false

# Enable hot reload
NODEMON_ENABLED=true